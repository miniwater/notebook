# 正则表达式 REGEX

元字符|描述|例子
---|---|---
`\` | 转义字符。
`^` | 匹配输入字行首。|`^a`
`$` | 匹配输入行尾。|`a$`
`*` | 任意次。等价于{0,}。|`a*`
`+` | 一次或多次。等价于{1,}。
`?` | 零次或一次。等价于{0,1}。
`{n}` | n次。非负整数。|`a{2}`
`{n,}` | 至少n次。非负整数。
`{n,m}` | 最少n次且最多m次。非负整数。n<=m。|`a{1,2}`
`?` | 紧跟其他限制符（*,+,?，{n}，{n,}，{n,m}）后面时，匹配模式是非贪婪的。|`<.+?>`
`.` | 任意字符，除了“\n”和"\r"。所有字符请使用像“[\s\S]”的模式。|`开始.结束`
`(pattern)` | 匹配pattern并获取这一匹配。所获取的匹配可以从产生的Matches集合得到，在VBScript中使用SubMatches集合，在JScript中则使用$0…$9属性。要匹配圆括号字符，请使用“\(”或“\)”。
`(?:pattern)` | 非获取匹配，匹配pattern但不获取匹配结果，不进行存储供以后使用。这在使用或字符“(&#124;)”来组合一个模式的各个部分时很有用。例如“industr(?:y&#124;ies)”就是一个比“industry&#124;industries”更简略的表达式。
`(?=pattern)` | 非获取匹配，正向肯定预查，在任何匹配pattern的字符串开始处匹配查找字符串，该匹配不需要获取供以后使用。预查不消耗字符，也就是说，在一个匹配发生后，在最后一次匹配之后立即开始下一次匹配的搜索，而不是从包含预查的字符之后开始。
`(?!pattern)` | 非获取匹配，正向否定预查，在任何不匹配pattern的字符串开始处匹配查找字符串，
`(?<=pattern)` | 非获取匹配，反向肯定预查，与正向肯定预查类似，只是方向相反。
*python的正则表达式没有完全按照正则表达式规范实现，所以一些高级特性建议使用其他语言如java、scala等
`(?<!pattern)` | 非获取匹配，反向否定预查，与正向否定预查类似，只是方向相反。
*python的正则表达式没有完全按照正则表达式规范实现，所以一些高级特性建议使用其他语言如java、scala等
`x&#124;y` | 匹配x或y。例如，“z&#124;food”能匹配“z”或“food”(此处请谨慎)。“[z&#124;f]ood”则匹配“zood”或“food”。
`[xyz]` | 字符集合。匹配所包含的任意一个字符。例如，“[abc]”可以匹配“plain”中的“a”。
`[^xyz]` | 负值字符集合。匹配未包含的任意字符。例如，“[^abc]”可以匹配“plain”中的“plin”任一字符。
`[a-z]` | 小写字母“a”到“z”。支持`[a-zA-Z0-]+`写法
`[^a-z]` | 不在小写字母“a”到“z”。
`\b` | 单词边界。例如，“er\b”可以匹配“never”中的“er”，但不能匹配“verb”中的“er”；“\b1_”可以匹配“1_23”中的“1_”，但不能匹配“21_3”中的“1_”。
`\B` | 非单词边界。“er\B”能匹配“verb”中的“er”，但不能匹配“never”中的“er”。
`\cx` | 匹配由x指明的控制字符。例如，\cM匹配一个Control-M或回车符。x的值必须为A-Z或a-z之一。否则，将c视为一个原义的“c”字符。
`\d` | 数字字符。等价于[0-9]。
`\D` | 非数字字符。等价于[^0-9]。
`\f` | 匹配一个换页符。等价于\x0c和\cL。
`\n` | 匹配一个换行符。等价于\x0a和\cJ。
`\r` | 匹配一个回车符。等价于\x0d和\cM。
`\s` | 空白符。空格、制表符、换页符等等。等价于[ \f\n\r\t\v]。
`\S` | 非空白符。等价于[^ \f\n\r\t\v]。
`\t` | 匹配一个制表符。等价于\x09和\cI。
`\v` | 匹配一个垂直制表符。等价于\x0b和\cK。
`\w` | 单词字符。Unicode字符集。类似但不等价于“[A-Za-z0-9_]”。
`\W` | 匹配任何非单词字符。等价于“[^A-Za-z0-9_]”。
`\xn` | 匹配n，其中n为十六进制转义值。十六进制转义值必须为确定的两个数字长。例如，“\x41”匹配“A”。“\x041”则等价于“\x04&1”。正则表达式中可以使用ASCII编码。
`\num` | 匹配num，其中num是一个正整数。对所获取的匹配的引用。例如，“(.)\1”匹配两个连续的相同字符。
`\n` | 标识一个八进制转义值或一个向后引用。如果\n之前至少n个获取的子表达式，则n为向后引用。否则，如果n为八进制数字（0-7），则n为一个八进制转义值。
`\nm` | 标识一个八进制转义值或一个向后引用。如果\nm之前至少有nm个获得子表达式，则nm为向后引用。如果\nm之前至少有n个获取，则n为一个后跟文字m的向后引用。如果前面的条件都不满足，若n和m均为八进制数字（0-7），则\nm将匹配八进制转义值nm。
`\nml` | 如果n为八进制数字（0-7），且m和l均为八进制数字（0-7），则匹配八进制转义值nml。
`\un` | 匹配n，其中n是一个用四个十六进制数字表示的Unicode字符。例如，\u00A9匹配版权符号（&copy;）。
`\p{P}` | 小写 p 是 property 的意思，表示 Unicode 属性，用于 Unicode 正表达式的前缀。中括号内的“P”表示Unicode 字符集七个字符属性之一：标点字符。其他六个属性：L：字母；M：标记符号（一般不会单独出现）；Z：分隔符（比如空格、换行等）；S：符号（比如数学符号、货币符号等）；N：数字（比如阿拉伯数字、罗马数字等）；C：其他字符。
`\< \>` | 匹配词（word）的开始（\<）和结束（\>）。例如正则表达式\<the\>能够匹配字符串"for the wise"中的"the"，但是不能匹配字符串"otherwise"中的"the"。注意：这个元字符不是所有的软件都支持的。
`( )` | 将( 和 ) 之间的表达式定义为“组”（group），并且将匹配这个表达式的字符保存到一个临时区域（一个正则表达式中最多可以保存9个），它们可以用 \1 到\9 的符号来引用。
`\|` | 将两个匹配条件进行逻辑“或”（or）运算。例如正则表达式(him&#124;her) 匹配"it belongs to him"和"it belongs to her"，但是不能匹配"it belongs to them."。注意：这个元字符不是所有的软件都支持的。

## 式子

## 常用案例

### 数字校验

描述|正则表达式|备注
---|---|---
数字|`^[0-9]*$`
n位数字|`^\d{n}$`
至少n位数字|`^\d{n,}$`
m~n位数字|`^\d{m,n}$`
整数|`^(-?[1-9]\d*)$`|非0开头，包括正整数和负整数|
正整数|`^[1-9]\d*$`
负整数|`^-[1-9]\d*$`
非负整数|`^(([1-9]\d*)\|0)$`
非正整数|`^((-[1-9]\d*)\|0)$`
浮点数|`^-?(?:[1-9]\d*\.\d*\|0\.\d*[1-9]\d*\|0\.0+\|0)$`|包括正浮点数和负浮点数|
正浮点数|`^(?:[1-9]\d*\.\d*\|0\.\d*[1-9]\d*)$`
负浮点数|`^-(?:[1-9]\d*\.\d*\|0\.\d*[1-9]\d*)$`
非正浮点数|`^(?:-(?:[1-9]\d*\.\d+\|0\.\d*[1-9]\d*)\|0\.0+\|0)$`|包含0|
非负浮点数|`^(?:[1-9]\d*\.\d+\|0\.\d+\|0\.0+\|0)$`|包含0|
仅一位小数|`^-?(?:0\|[1-9][0-9]*)\.[0-9]{1}$`
最少一位小数|`^-?(?:0\|[1-9][0-9]*)\.[0-9]{1,}$`
最多两位小数|`^-?(?:0\|[1-9][0-9]*)\.[0-9]{1,2}$`
连续重复的数字|`^(\d)\1+$`|例如：`111`，`222`

### 字符校验

描述|正则表达式|备注
---|---|---
中文 | `^[\u4E00-\u9FA5]+$`
全角字符 | `^[\uFF00-\uFFFF]+$`
半角字符 | `^[\u0000-\u00FF]+$`
英文字符串（大写 | `^[A-Z]+$`
英文字符串（小写） | `^[a-z]+$`
英文字符串（不区分大小写） | `^[A-Za-z]+$`
中文和数字 | `^(?:[\u4E00-\u9FA5]{0,}\|\d)+$`
英文和数字 | `^[A-Za-z0-9]+$`
数字、英文字母或者下划线组成的字符串 | `^\w+$`
中文、英文、数字包括下划线 | `^[\u4E00-\u9FA5\w]+$`
不含字母的字符串 | `^[^A-Za-z]*$`
连续重复的字符串 | `^(.)\1+$ 例如：aa，bb`
长度为n的字符串 | `^.{n}$`
ASCII | `^[ -~]$`
